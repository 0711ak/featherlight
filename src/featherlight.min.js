/**
* Featherlight – ultra slim jQuery lightbox
* Version 0.1.6 – https://github.com/noelboss/featherlight
*
* Copyright 2013, Noel Bossart
* MIT Licensed.
*/
(function(b){var a={defaults:{selector:"[data-featherlight]",context:"body",targetAttr:"data-featherlight",openTrigger:"click",closeTrigger:"click",namespace:"featherlight",resetCss:false,variant:null,clickBgClose:true,bg:null,autostart:true,open:function(c){b.proxy(b.featherlight.methods.open,this,c)();},close:function(c){b.proxy(b.featherlight.methods.close,this,c)();}},methods:{setup:function(f,j){var d=b(this),k=b.extend({},a.defaults,f),i=d.attr("data-"+k.namespace+"-variant")||k.variant,h=!k.resetCss?k.namespace:k.namespace+"-reset",e=b(k.bg||'<div class="'+h+'"><div class="'+h+'-content"><span class="'+h+'-close">X</span></div></div>'),g={c:k,content:j,$elm:d,$fl:e.clone().addClass(i)};g.$fl.on(k.closeTrigger+"."+k.namespace,b.proxy(k.close,g));if(d.length>0&&this.hasOwnProperty("nodeName")){d.on(k.openTrigger+"."+k.namespace,b.proxy(k.open,g));}else{b.proxy(k.open,g)();}},getContent:function(){var e=this,f=e.content,c=e.$elm.attr(e.c.targetAttr);if(typeof f==="string"){e.content=b(f);}else{if(f instanceof b===false){if(c==="image"||c.match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)){var d=c.match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)?c:e.$elm.attr("href");e.content=b('<img src="'+d+'" alt="" class="'+e.c.namespace+'-image" />');}else{if(c==="ajax"||c.match(/(http|htm|php)/i)){var d=c.match(/(http|htm|php)/i)?c:e.$elm.attr("href"),f=d?b("<div></div>").load(d,function(h,g){if(g!=="error"){b.featherlight(f.html());}}):null;return false;}else{e.content=b(b(c),e.c.context);}}}}if(e.content.is("iframe")||b("iframe",e.content).length>0){e.$fl.addClass(e.c.namespace+"-iframe");}e.content.addClass(e.c.namespace+"-inner");},open:function(d){if(d){d.preventDefault();}var c=this;if(b.proxy(a.methods.getContent,c)()!==false){c.$fl.prependTo("body").fadeIn().find("."+c.c.namespace+"-close").after(c.content);}},close:function(f){if(f){f.preventDefault();}var d=this,h=d.c,g=b(f.target);if((h.clickBgClose&&g.is("."+h.namespace))||g.is("."+h.namespace+"-close")){d.$fl.fadeOut(function(){d.$fl.detach();});}}}};b.featherlight=function(d,c){b.proxy(a.methods.setup,null,c,d)();};b.fn.featherlight=function(d,c){b(this).each(function(){b.proxy(a.methods.setup,this,d,c)();});};b.extend(b.featherlight,a);b(document).ready(function(){var d=b.featherlight.defaults;if(d.autostart){b(d.selector,d.context).featherlight();}});}(jQuery));