/**
* Featherlight – ultra slim jQuery lightbox
* Version 0.1.6 – https://github.com/noelboss/featherlight
*
* Copyright 2013, Noel Bossart
* MIT Licensed.
*/
(function(b){var a={setup:function(f,j){var d=b(this),k=b.extend({},b.fn.featherlight.defaults,f),i=d.attr("data-"+k.namespace+"-variant")||k.variant,h=!k.resetCss?k.namespace:k.namespace+"-reset",e=b(k.bg||'<div class="'+h+'"><div class="'+h+'-content"><span class="'+h+'-close">X</span></div></div>');var g={c:k,content:j,$elm:d,$fl:e.clone()};if(i){g.$fl.addClass(i);}g.$fl.on(k.closeTrigger+"."+k.namespace,b.proxy(k.close,g));if(this.hasOwnProperty("nodeName")){d.on(k.openTrigger+"."+k.namespace,b.proxy(k.open,g));}else{b.proxy(k.open,g)();}},getContent:function(){var d=this,c=d.$elm.attr(d.c.targetAttr);if(typeof d.content==="string"){d.content=b(d.content);}else{if(d.content instanceof b===false){if(d.$elm.attr(c)){c=d.$elm.attr(c);}if(c.match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)){d.content=b('<img src="'+c+'" alt="" class="'+d.c.namespace+'-image" />');}else{d.content=b(b(c),d.c.context);}}}if(d.content.is("iframe")||b("iframe",d.content).length>0){d.$fl.addClass(d.c.namespace+"-iframe");}},open:function(d){if(d){d.preventDefault();}var c=this;b.proxy(a.getContent,c)();c.$fl.find("."+c.c.namespace+"-close").after(c.content.show());c.$fl.prependTo("body").fadeIn();},close:function(f){if(f){f.preventDefault();}var d=this,h=d.c,g=b(f.target);if(h.clickBgClose&&g.is("."+h.namespace)||g.is("."+h.namespace+"-close")){d.$fl.fadeOut(function(){d.$fl.detach();});}}};b.featherlight=function(d,c){b.proxy(a.setup,null,c,d)();};b.fn.featherlight=function(d,c){b(this).each(function(){b.proxy(a.setup,this,d,c)();});};b.fn.featherlight.defaults={selector:"[data-featherlight]",context:"body",targetAttr:"data-featherlight",openTrigger:"click",closeTrigger:"click",namespace:"featherlight",resetCss:false,variant:null,clickBgClose:true,bg:null,autostart:true,open:function(c){b.proxy(a.open,this,c)();},close:function(c){b.proxy(a.close,this,c)();}};b(document).ready(function(){var d=b.fn.featherlight.defaults;if(d.autostart){b(d.selector,d.context).featherlight();}});}(jQuery));